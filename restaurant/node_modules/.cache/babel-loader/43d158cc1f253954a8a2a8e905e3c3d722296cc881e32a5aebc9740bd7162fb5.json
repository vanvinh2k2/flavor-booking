{"ast":null,"code":"var _s = $RefreshSig$();\nimport { LOGIN_SUCCESS, GET_ERROR, LOGOUT } from \"./type\";\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nconst config = {\n  headers: {\n    \"Content-type\": \"application/json\"\n  }\n};\nexport const login = async (email, password) => {\n  _s();\n  const body = JSON.stringify({\n    email,\n    password\n  });\n  const navigate = useNavigate();\n  try {\n    const res = await axios.post(`http://127.0.0.1:8000/auth/api/login/restaurant/`, body, config);\n    if (res.data.success === true) {\n      alert(res.data.message);\n      navigate(\"/restaurant\");\n      const result = {\n        type: LOGIN_SUCCESS,\n        payload: res.data.data\n      };\n      return result;\n    } else {\n      alert(res.data.message);\n      return {\n        type: GET_ERROR,\n        payload: res.data.message\n      };\n    }\n  } catch (e) {\n    alert(\"Error!\");\n    return {\n      type: GET_ERROR,\n      payload: e\n    };\n  }\n};\n_s(login, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\nexport const logout = () => {\n  return {\n    type: LOGOUT,\n    payload: \"Logout Success.\"\n  };\n};","map":{"version":3,"names":["LOGIN_SUCCESS","GET_ERROR","LOGOUT","axios","useNavigate","config","headers","login","email","password","_s","body","JSON","stringify","navigate","res","post","data","success","alert","message","result","type","payload","e","logout"],"sources":["E:/LapTrinh/PY/Capstone_1/restaurant/src/action/auth.js"],"sourcesContent":["import { LOGIN_SUCCESS, GET_ERROR, LOGOUT } from \"./type\";\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst config = {\r\n    headers: {\r\n        \"Content-type\": \"application/json\",\r\n    }\r\n}\r\n\r\nexport const login = async (email, password)=>{\r\n    const body = JSON.stringify({email, password})\r\n    const navigate = useNavigate();\r\n    try{\r\n        const res = await axios.post(`http://127.0.0.1:8000/auth/api/login/restaurant/`, body, config)\r\n        if(res.data.success === true){\r\n            alert(res.data.message)\r\n            navigate(\"/restaurant\");\r\n            const result = {\r\n                type: LOGIN_SUCCESS,\r\n                payload: res.data.data\r\n            }\r\n            return result\r\n        }\r\n        else{\r\n            alert(res.data.message)\r\n            return {\r\n                type: GET_ERROR,\r\n                payload: res.data.message\r\n            }\r\n        }\r\n        \r\n    } catch(e){\r\n        alert(\"Error!\")\r\n        return {\r\n            type: GET_ERROR,\r\n            payload: e\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () =>{\r\n    return {\r\n        type: LOGOUT,\r\n        payload: \"Logout Success.\"\r\n    }\r\n}"],"mappings":";AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,MAAM,QAAQ,QAAQ;AACzD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,MAAM,GAAG;EACXC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC;AAED,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAG;EAAAC,EAAA;EAC1C,MAAMC,IAAI,GAAGC,IAAI,CAACC,SAAS,CAAC;IAACL,KAAK;IAAEC;EAAQ,CAAC,CAAC;EAC9C,MAAMK,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B,IAAG;IACC,MAAMW,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAAE,kDAAiD,EAAEL,IAAI,EAAEN,MAAM,CAAC;IAC9F,IAAGU,GAAG,CAACE,IAAI,CAACC,OAAO,KAAK,IAAI,EAAC;MACzBC,KAAK,CAACJ,GAAG,CAACE,IAAI,CAACG,OAAO,CAAC;MACvBN,QAAQ,CAAC,aAAa,CAAC;MACvB,MAAMO,MAAM,GAAG;QACXC,IAAI,EAAEtB,aAAa;QACnBuB,OAAO,EAAER,GAAG,CAACE,IAAI,CAACA;MACtB,CAAC;MACD,OAAOI,MAAM;IACjB,CAAC,MACG;MACAF,KAAK,CAACJ,GAAG,CAACE,IAAI,CAACG,OAAO,CAAC;MACvB,OAAO;QACHE,IAAI,EAAErB,SAAS;QACfsB,OAAO,EAAER,GAAG,CAACE,IAAI,CAACG;MACtB,CAAC;IACL;EAEJ,CAAC,CAAC,OAAMI,CAAC,EAAC;IACNL,KAAK,CAAC,QAAQ,CAAC;IACf,OAAO;MACHG,IAAI,EAAErB,SAAS;MACfsB,OAAO,EAAEC;IACb,CAAC;EACL;AACJ,CAAC;AAAAd,EAAA,CA7BYH,KAAK;EAAA,QAEGH,WAAW;AAAA;AA6BhC,OAAO,MAAMqB,MAAM,GAAGA,CAAA,KAAK;EACvB,OAAO;IACHH,IAAI,EAAEpB,MAAM;IACZqB,OAAO,EAAE;EACb,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}